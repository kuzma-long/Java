## Linux 怎么查看哪个进程占用的内存最多

> 阿里云

在Linux系统中，可以使用以下命令查看哪个进程占用的内存最多：

1. top命令

使用top命令可以实时监控系统的进程状态和资源使用情况，其中包括每个进程的CPU、内存占用等信息。在终端中输入top命令后，按下“M”键可以按内存使用量进行排序，显示内存占用最高的进程在最上面。

2. ps命令

使用ps命令可以查看当前系统中的进程信息，包括进程的ID、命令、状态、占用内存等信息。在终端中输入“ps aux --sort=-%mem”，按照内存使用量进行排序，显示内存占用最高的进程在最上面。

3. pmap命令

使用pmap命令可以查看指定进程占用的内存情况，包括每个内存区块的地址、大小和权限等信息。在终端中输入“pmap -x [pid]”命令，[pid]是指要查看的进程的PID号，可以查看该进程占用的内存情况。

总之，这些命令都可以帮助用户查看系统中的进程占用的内存情况，方便用户进行系统性能分析和调优。

## Linux命令

> 字节，美团，小米，普元

### 文件目录操作

`ls`：ls 命令不仅可以查看 Linux 文件夹包含的文件而且可以查看文件权限(包括目录、文件夹、文件权限)查看目录信息等等。

`cd`

`pwd`：查看"当前工作目录"的完整路径。

`mkdir`：用来创建指定的名称的目录，要求创建目录的用户在当前目录中具有写权限，并且指定的目录名不能是当前目录中已有的目录。

`rm`：删除一个目录中的一个或多个文件或目录，如果没有使用-r选项，则rm不会删除目录。如果使用 rm 来删除文件，通常仍可以将该文件恢复原状。

`mv`：可以用来移动文件或者将文件改名

`cp`：将源文件复制至目标文件，或将多个源文件复制至目标目录。

`touch`：touch命令参数可更改文档或目录的日期时间，包括存取时间和更改时间。

`cat`：用来显示文件内容，或者将几个文件连接起来显示，或者从标准输入读取内容并显示，它常与重定向符号配合使用。

### 文件打包上传和下载

`tar`：用来压缩和解压文件。

1.将文件打全部打包成tar包。

```bash
tar -cvf test.tar test.log    # 仅打包，不压缩！ 

tar -zcvf test.tar.gz test.log  # 打包后，以 gzip 压缩 

tar -zcvf test.tar.bz2 test.log # 打包后，以 bzip2 压缩
复制代码
```

2.将 tar 包解压缩

```
tar -zxvf test.tar.gz
```

`gzip`：使用广泛的压缩程序，文件经它压缩过后，其名称后面会多出".gz"的扩展名。

### 文件权限设置

`chmod`：用于改变linux系统文件或目录的访问权限。777：读写执行，文件所有者、群组用户、其他用户

`chgrp`：可采用群组名称或群组识别码的方式改变文件或目录的所属群组。

`chown`：通过chown改变文件的拥有者和群组。

### 性能监控和优化

`top`：显示当前系统正在执行的进程的相关信息，包括进程ID、内存占用率、CPU占用率等。

`free`：显示系统使用和空闲的内存情况，包括物理内存、交互区内存(swap)和内核缓冲区内存。

`vmstat`：用来显示虚拟内存的信息。

`kill -9`：是一种 Linux 系统上的强制杀死进程的命令，可以强制结束一个正在运行的进程。

### 网络命令

`ipconfig`：ifconfig 命令用来查看和配置网络设备。

`ping`：确定网络和各外部主机的状态；跟踪和隔离硬件和软件问题；测试、评估和管理网络。

`netstat`：用于显示与IP、TCP、UDP和ICMP协议相关的统计数据，一般用于检验本机各端口的网络连接情况。

### 其他

`ps -ef`：查看当前运行的服务

`ps -ef | grep service`：查看系统是否包含某个服务

## 什么是僵尸进程？怎么排查？

> 腾讯IEG

僵尸进程是因为父进程没有回收子进程的资源而出现的，那么，要解决掉它们，就要找到它们的根儿，也就是找出父进程，然后在父进程里解决。

**top:查看发现僵尸进程**

**查找僵尸进程：ps -aux | grep Z**

**找到僵尸进程的父进程：ps -ef | grep 子进程pid**

**杀掉父进程：kill -s 9 父进程pid**

## 在 Linux 上部署一个 Web 服务，如何查看端口是否有被占用

> 阿里云

要查看 Linux 上的端口是否已经被占用，可以使用以下命令：

```shell
sudo netstat -tlnp
```

这个命令将列出所有当前正在使用的端口及其相关的进程信息。具体说明如下：

- `sudo` 命令以管理员权限运行。
- `netstat` 是一个用于显示网络状态信息的命令。
- `-t` 参数用于显示 TCP 协议

## linux的SWAP分区有什么用？如果SWAP分区也满了，怎么办

> 字节

在Linux中，SWAP分区是一种虚拟内存，通常被用作当系统的物理内存（RAM）已满时，将数据从内存中移动到硬盘上，以释放物理内存。这可以帮助系统继续运行，而不会因为内存不足而崩溃。

如果SWAP分区也满了，通常会发生以下两种情况：

1. 系统变得非常缓慢：当系统的物理内存和SWAP分区都被用完时，系统会开始使用磁盘空间来模拟内存，这将导致系统变得非常缓慢，因为硬盘的读写速度比内存慢得多。
2. 进程崩溃：如果一个进程需要更多的内存，但系统的物理内存和SWAP分区都已经满了，那么进程就会崩溃。

为了避免这种情况发生，可以采取以下措施：

1. 增加物理内存：增加物理内存可以减少系统使用SWAP分区的频率，从而提高系统性能。
2. 减少内存占用：可以通过关闭不必要的进程或减少进程的内存使用来减少内存占用。
3. 调整SWAP分区的大小：如果SWAP分区经常被用满，可以考虑调整SWAP分区的大小。但是，调整SWAP分区的大小可能会影响系统的性能，因此应该谨慎操作。
4. 增加SWAP分区：可以通过增加SWAP分区的大小来扩展虚拟内存。
